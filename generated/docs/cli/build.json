{
  "id": "cli/build",
  "title": "ng build",
  "contents": "\n<article>\n  \n\n\n<div class=\"breadcrumb\">\n  <script type=\"application/ld+json\">\n    {\n      \"@context\": \"http://schema.org\",\n      \"@type\": \"BreadcrumbList\",\n      \"itemListElement\": [\n        { \"@type\": \"ListItem\", \"position\": 1, \"item\": { \"@id\": \"https://angular.io/cli\", \"name\": \"CLI\" } },\n        { \"@type\": \"ListItem\", \"position\": 2, \"item\": { \"@id\": \"https://angular.io/cli/build\", \"name\": \"build\" } }\n      ]\n    }\n  </script>\n    <a href=\"cli\">CLI</a>\n</div>\n\n  \n<header class=\"cli-header\">\n  <h1 id=\"ng-build\">ng build<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"cli/build#ng-build\"><i class=\"material-icons\">link</i></a></h1>\n</header>\n\n\n  <aio-toc class=\"embedded\"></aio-toc>\n\n  <div class=\"cli-body\">\n    <p>将 Angular 应用程序或库编译到给定输出路径处名为 dist/ 的输出目录中。</p>\n\n    \n<code-example hidecopy=\"true\" class=\"api-heading no-auto-link\">\n  ng <span class=\"cli-name\">build</span> [<var>project</var>]\n</code-example>\n\n<code-example hidecopy=\"true\" class=\"api-heading no-auto-link\">\n  ng <span class=\"cli-name\">b</span> [<var>project</var>]\n</code-example>\n\n\n\n    \n    <h2 class=\"no-anchor\" id=\"----------mode_edit--code--------说明----\">\n        <div class=\"github-links\">\n  <a href=\"https://github.com/angular/angular-cn/edit/aio/packages/angular/cli/src/commands/build/long-description.md?message=docs%3A%20请简述你的修改...\" aria-label=\"提供编辑建议\" title=\"提供编辑建议\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n  <a href=\"https://github.com/angular/angular-cn/tree/14.0.3/packages/angular/cli/src/commands/build/long-description.md\" aria-label=\"查看源码\" title=\"查看源码\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n        说明\n    </h2>\n    <p>该命令可用于构建“应用程序”或“库”类型的项目。当用于构建库时，会调用不同的构建器，并且仅应用<code>ts-config</code>、<code>configuration</code>和<code>watch</code>选项。所有其他选项仅适用于构建应用程序。</p>\n<p>应用程序构建器使用 <a href=\"https://webpack.js.org/\">Webpack</a> 构建工具，可以在工作区配置文件 ( <code>angular.json</code> ) 中指定默认配置选项或使用命名的替代配置。默认情况下，当你使用 CLI 创建项目时会创建一个<code>development</code> 配置，你可以通过指定 <code>--configuration development</code> 来使用该配置。</p>\n<p>配置选项通常对应于命令选项。你可以通过在命令行中指定相应的选项来覆盖单个配置默认值。该命令可以接受以 dash-case 或 camelCase 给出的选项名称。请注意，在配置文件中，你必须以 camelCase 指定名称。</p>\n<p>某些附加选项只能通过配置文件设置，可以通过直接编辑或使用<code>ng config</code>命令来完成。其中包括 <code>assets</code>、<code>styles</code> 和 <code>scripts</code> 对象，它们提供了要包含在项目中的运行时全局资源。 CSS 中的资源，例如图像和字体，会在输出文件夹的根目录自动写入并添加指纹。</p>\n<p>有关更多详细信息，请参阅<a href=\"guide/workspace-config\">工作区配置</a>。</p>\n\n    \n\n    \n\n    \n\n<h2 class=\"no-anchor\" id=\"arguments\">参数</h2>\n<table class=\"is-full-width list-table property-table\">\n  <thead>\n    <tr>\n      <th width=\"15%\">参数</th>\n      <th width=\"40%\">说明</th>\n      <th>值类型</th>\n    </tr>\n  </thead>\n  <tbody>\n  \n  <tr class=\"cli-option\">\n    <td><code class=\"cli-option-syntax no-auto-link\">project</code></td>\n    <td>\n      <p>要构建的项目名。可以是应用或库。</p>\n\n    </td>\n    <td><code class=\"cli-option-syntax no-auto-link\">string</code></td>\n  </tr>\n  \n  </tbody>\n</table>\n\n\n    \n\n<h2 class=\"no-anchor\" id=\"options\">选项</h2>\n<table class=\"is-full-width list-table property-table\">\n  <thead>\n  <tr>\n    <th width=\"15%\">选项</th>\n    <th width=\"40%\">说明</th>\n    <th>值类型</th>\n    <th>默认值</th>\n  </tr>\n  </thead>\n  <tbody>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--allowed-common-js-dependencies</code>\n    </td>\n    <td>\n      \n      <p>允许在没有构建期警告的前提下使用的 CommonJS 软件包列表。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">array</code></td>\n    <td></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--aot</code>\n    </td>\n    <td>\n      \n      <p>使用预先编译模式进行构建。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">boolean</code></td>\n    <td><code class=\"no-auto-link\">true</code></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--base-href</code>\n    </td>\n    <td>\n      \n      <p>正在构建的应用程序的 base URL。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">string</code></td>\n    <td></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--build-optimizer</code>\n    </td>\n    <td>\n      \n      <p>使用 'aot' 选项时启用高级构建优化。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">boolean</code></td>\n    <td><code class=\"no-auto-link\">true</code></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--common-chunk</code>\n    </td>\n    <td>\n      \n      <p>生成一个单独的捆绑包，其中包含跨多个捆绑包使用的代码。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">boolean</code></td>\n    <td><code class=\"no-auto-link\">true</code></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--configuration</code>\n    </td>\n    <td>\n      \n      <p>以逗号分隔列表形式表示的一个或多个命名构建器配置，在 angular.json 的 <code>configurations</code> 部分指定。构建器使用命名配置来运行给定的目标。有关更多信息，请参阅<a href=\"https://angular.io/guide/workspace-config#alternate-build-configurations\">https://angular.io/guide/workspace-config#alternate-build-configurations</a> 。</p>\n\n      <p><span class=\"cli-aliases\">别名:</span> -c</p>\n    </td>\n    <td><code class=\"no-auto-link\">string</code></td>\n    <td></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--cross-origin</code>\n    </td>\n    <td>\n      \n      <p>定义提供 CORS 支持的元素的 crossorigin 属性设置。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">none|anonymous|use-credentials</code></td>\n    <td><code class=\"no-auto-link\">none</code></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--delete-output-path</code>\n    </td>\n    <td>\n      \n      <p>在构建之前，删除输出路径。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">boolean</code></td>\n    <td><code class=\"no-auto-link\">true</code></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link deprecated-api-item\">--deploy-url</code>\n    </td>\n    <td>\n      \n      \n      <p><strong>已弃用：</strong></p>\n      <p>Use \"baseHref\" option, \"APP_BASE_HREF\" DI token or a combination of both instead. For more information, see <a href=\"https://angular.io/guide/deployment#the-deploy-url\">https://angular.io/guide/deployment#the-deploy-url</a>.</p>\n\n      \n      \n      <p>文件将部署到的 URL。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">string</code></td>\n    <td></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--extract-licenses</code>\n    </td>\n    <td>\n      \n      <p>将所有许可证（license）提取到一个单独的文件中。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">boolean</code></td>\n    <td><code class=\"no-auto-link\">true</code></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--help</code>\n    </td>\n    <td>\n      \n      <p>在控制台显示关于本命令的帮助信息。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">boolean</code></td>\n    <td></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--i18n-duplicate-translation</code>\n    </td>\n    <td>\n      \n      <p>如何处理 i18n 的重复翻译。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">warning|error|ignore</code></td>\n    <td><code class=\"no-auto-link\">warning</code></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--i18n-missing-translation</code>\n    </td>\n    <td>\n      \n      <p>i18n 要如何处理缺失翻译。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">warning|error|ignore</code></td>\n    <td><code class=\"no-auto-link\">warning</code></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--index</code>\n    </td>\n    <td>\n      \n      <p>配置应用程序的 index.html 的生成方式。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">string</code></td>\n    <td></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--inline-style-language</code>\n    </td>\n    <td>\n      \n      <p>用于应用程序的内联组件样式的样式表语言。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">css|less|sass|scss</code></td>\n    <td><code class=\"no-auto-link\">css</code></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--localize</code>\n    </td>\n    <td>\n      \n      <p>在一个或多个语言环境下翻译这些包。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">boolean</code></td>\n    <td></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--main</code>\n    </td>\n    <td>\n      \n      <p>应用程序主入口点的完整路径。是相对于当前工作空间的。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">string</code></td>\n    <td></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--named-chunks</code>\n    </td>\n    <td>\n      \n      <p>对于惰性加载的块，使用文件名进行命名。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">boolean</code></td>\n    <td><code class=\"no-auto-link\">false</code></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--ngsw-config-path</code>\n    </td>\n    <td>\n      \n      <p>ngsw-config.json 的路径。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">string</code></td>\n    <td></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--optimization</code>\n    </td>\n    <td>\n      \n      <p>启用构建输出的优化。包括脚本和样式的最小化、摇树优化、消除死代码、内联关键 CSS 和内联字体等。欲知详情，请参阅<a href=\"https://angular.cn/guide/workspace-config#optimization-configuration\">https://angular.cn/guide/workspace-config#optimization-configuration</a>。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">boolean</code></td>\n    <td><code class=\"no-auto-link\">true</code></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--output-hashing</code>\n    </td>\n    <td>\n      \n      <p>定义输出文件名的缓存无效哈希（cache-busting hashing）的模式。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">none|all|media|bundles</code></td>\n    <td><code class=\"no-auto-link\">none</code></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--output-path</code>\n    </td>\n    <td>\n      \n      <p>新输出目录的完整路径，是相对于当前工作空间的。默认情况下，会将输出写入当前项目中名为 dist/ 的文件夹。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">string</code></td>\n    <td></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--poll</code>\n    </td>\n    <td>\n      \n      <p>启用并定义文件监视的轮询间隔（以毫秒为单位）。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">number</code></td>\n    <td></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--polyfills</code>\n    </td>\n    <td>\n      \n      <p>polyfills 文件的完整路径。是相对于当前工作空间的。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">string</code></td>\n    <td></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--preserve-symlinks</code>\n    </td>\n    <td>\n      \n      <p>当解析模块时，不要使用真实路径。如果未设置，则如果 NodeJS 启用了 --preserve-symlinks 选项，就默认为 <code>true</code>。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">boolean</code></td>\n    <td></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--progress</code>\n    </td>\n    <td>\n      \n      <p>在构建时将进度记录到控制台。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">boolean</code></td>\n    <td><code class=\"no-auto-link\">true</code></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--resources-output-path</code>\n    </td>\n    <td>\n      \n      <p>放置样式资源的路径，是相对于 outputPath 的。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">string</code></td>\n    <td></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--service-worker</code>\n    </td>\n    <td>\n      \n      <p>在生产环境构建中生成 Service Worker 配置。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">boolean</code></td>\n    <td><code class=\"no-auto-link\">false</code></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--source-map</code>\n    </td>\n    <td>\n      \n      <p>输出脚本和样式的源码映射信息。欲知详情，请参阅<a href=\"https://angular.cn/guide/workspace-config#source-map-configuration\">https://angular.cn/guide/workspace-config#source-map-configuration</a>。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">boolean</code></td>\n    <td><code class=\"no-auto-link\">false</code></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--stats-json</code>\n    </td>\n    <td>\n      \n      <p>生成一个 “stats.json” 文件，可以使用 “webpack-bundle-analyzer” 之类的工具进行分析。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">boolean</code></td>\n    <td><code class=\"no-auto-link\">false</code></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--subresource-integrity</code>\n    </td>\n    <td>\n      \n      <p>启用子资源完整性验证。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">boolean</code></td>\n    <td><code class=\"no-auto-link\">false</code></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--ts-config</code>\n    </td>\n    <td>\n      \n      <p>TypeScript 配置文件相对于当前工作空间的完整路径。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">string</code></td>\n    <td></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--vendor-chunk</code>\n    </td>\n    <td>\n      \n      <p>生成仅包含供应商库的单独捆绑包。此选项只能用于开发阶段。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">boolean</code></td>\n    <td><code class=\"no-auto-link\">false</code></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--verbose</code>\n    </td>\n    <td>\n      \n      <p>将更多详细信息添加到输出日志记录。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">boolean</code></td>\n    <td><code class=\"no-auto-link\">false</code></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--watch</code>\n    </td>\n    <td>\n      \n      <p>当文件更改时自动构建。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">boolean</code></td>\n    <td><code class=\"no-auto-link\">false</code></td>\n  </tr>\n  \n  <tr class=\"cli-option\">\n    <td>\n      <code class=\"cli-option-syntax no-auto-link\">--web-worker-ts-config</code>\n    </td>\n    <td>\n      \n      <p>Web Worker 模块的 TypeScript 配置。</p>\n\n      \n    </td>\n    <td><code class=\"no-auto-link\">string</code></td>\n    <td></td>\n  </tr>\n  \n  </tbody>\n</table>\n\n\n    \n  </div>\n</article>\n\n<!-- links to this doc:\n - cli\n - guide/aot-compiler\n - guide/deployment\n - guide/i18n-common-deploy\n - guide/i18n-common-merge\n - guide/i18n-optional-import-global-variants\n - guide/i18n-optional-manual-runtime-locale\n - guide/service-worker-getting-started\n - guide/what-is-angular\n - guide/workspace-config\n-->\n<!-- links from this doc:\n - cli\n - cli/build#ng-build\n - guide/workspace-config\n - https://angular.cn/guide/workspace-config#optimization-configuration\n - https://angular.cn/guide/workspace-config#source-map-configuration\n - https://angular.io/guide/deployment#the-deploy-url\n - https://angular.io/guide/workspace-config#alternate-build-configurations\n - https://github.com/angular/angular-cn/edit/aio/packages/angular/cli/src/commands/build/long-description.md?message=docs%3A%20请简述你的修改...\n - https://github.com/angular/angular-cn/tree/14.0.3/packages/angular/cli/src/commands/build/long-description.md\n - https://webpack.js.org/\n-->"
}